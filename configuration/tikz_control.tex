% =============================================================
% Tikz for diagram control
% =============================================================


% =============================================================
% Block
% =============================================================
\tikzset{%
  block/.style n args={2}{%
    draw,
    fill=white,
    minimum width  = #1,
    minimum height = #2,
  },
  block/.default={1.2cm}{1.0cm}
}
% =============================================================


% =============================================================
% Branches
% =============================================================
\tikzstyle{branch}=[fill,shape=circle,minimum size=4pt,inner sep=0pt]
\tikzstyle{->top}=[-{Stealth[color=black, scale=0.8]}, draw=white, double=black, double distance=1pt, line width=1pt]
\tikzstyle{<-top}=[{stealth[color=black, scale=0.8]}-, draw=white, double=black, double distance=1pt, line width=1pt]
% =============================================================


% =============================================================
% TODO - Hand Writen Style
% Usefull for schematic plots
% =============================================================
\tikzstyle{handwriten}=[decorate,decoration={random steps,amplitude=0.1pt,segment length=0.8pt}]
% =============================================================


% =============================================================
% Dot
% =============================================================
\tikzset{%
  dot/.style n args={1}{%
    draw,
    circle,
    fill,
    minimum size = #1,
    inner sep = 0pt,
    outer sep = 0pt,
  },
  dot/.default={2pt}
}
% =============================================================


% =============================================================
% DAC
% =============================================================
\tikzset{%
  DAC/.style={%
    draw,
    signal,
  }
}
% =============================================================


% =============================================================
% ADC
% =============================================================
\tikzset{%
  ADC/.style={%
    draw,
    signal,
    signal to = west,
  }
}
% =============================================================


% =============================================================
% Gain
% =============================================================
\tikzset{%
  gain right/.style={%
    draw,
    regular polygon,
    regular polygon sides = 3,
    inner sep = 0pt,
    shape border rotate=-90
  },
  gain left/.style={%
    draw,
    regular polygon,
    regular polygon sides = 3,
    inner sep = 0pt,
    shape border rotate=90
  },
  gain top/.style={%
    draw,
    regular polygon,
    regular polygon sides = 3,
    inner sep = 0pt,
    shape border rotate=0
  },
  gain bottom/.style={%
    draw,
    regular polygon,
    regular polygon sides = 3,
    inner sep = 0pt,
    shape border rotate=180
  },
}
% =============================================================

% =============================================================
% Pole
% =============================================================
\tikzset{%
  pole/.style n args={1}{%
    color=red,
    cross out,
    draw,
    inner sep = 0pt,
    outer sep = 0pt,
    minimum size = #1
  },
  pole/.default={4pt}
}
% =============================================================


% =============================================================
% Zero
% =============================================================
\tikzset{%
  zero/.style n args={1}{%
    color=red,
    circle,
    draw,
    inner sep = 0pt,
    outer sep = 0pt,
    minimum size = #1
  },
  zero/.default={4pt}
}
% =============================================================


% =============================================================
% Add / Substract / Divide / Multiply block
% =============================================================
\tikzset{% Add block with Circled operations
  addc/.style n args={5}{%
    draw,
    fill=white,
    circle,
    outer sep = 0pt,
    inner sep = 0pt,
    minimum size = 2em,
    execute at begin node={\LARGE $#1$},
    append after command={\pgfextra{\let\mainnode=\tikzlastnode}
      \ifx#2\empty\else
      node[draw, circle, outer sep=6pt, inner sep=0pt, above left] at (\mainnode.west) {$#2$}%
      \fi
      \ifx#3\empty\else
      node[draw, circle, outer sep=6pt, inner sep=0pt, above right] at (\mainnode.north) {$#3$}%
      \fi
      \ifx#4\empty\else
      node[draw, circle, outer sep=6pt, inner sep=0pt, below right] at (\mainnode.east) {$#4$}%
      \fi
      \ifx#5\empty\else
      node[draw, circle, outer sep=6pt, inner sep=0pt, below left] at (\mainnode.south) {$#5$}%
      \fi
      }
  },
  addc/.default={+}{}{}{}{},
}
\tikzset{% Add Block
  addb/.style n args={5}{%
    draw,
    fill=white,
    circle,
    outer sep = 0pt,
    inner sep = 0pt,
    minimum size = 2em,
    execute at begin node={\LARGE $#1$},
    append after command={\pgfextra{\let\mainnode=\tikzlastnode}
      \ifx#2\empty\else
      node[outer sep=2pt, inner sep=0pt, above left] at (\mainnode.west) {$#2$}%
      \fi
      \ifx#3\empty\else
      node[outer sep=2pt, inner sep=0pt, above right] at (\mainnode.north) {$#3$}%
      \fi
      \ifx#4\empty\else
      node[outer sep=2pt, inner sep=0pt, below right] at (\mainnode.east) {$#4$}%
      \fi
      \ifx#5\empty\else
      node[outer sep=2pt, inner sep=0pt, below left] at (\mainnode.south) {$#5$}%
      \fi
      }
  },
  addb/.default={+}{}{}{}{},
}
% =============================================================
